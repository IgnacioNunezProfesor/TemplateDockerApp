# 000-default.conf - VirtualHost using env var apache_doc_root and classic CGI PHP
# Note: This file expects the placeholder ${apache_doc_root} and ${php_cgi_path}
# to be substituted (for example with envsubst in a Docker entrypoint) to real paths.

<VirtualHost *:${APP_PORT}>
    ServerAdmin webmaster@localhost
    ServerName localhost

    # DocumentRoot should be provided via environment substitution: ${apache_doc_root}
    DocumentRoot "${APACHE_DOCUMENT_ROOT}"

    <Directory "${APACHE_DOCUMENT_ROOT}">
        Options Indexes FollowSymLinks ExecCGI
        AllowOverride All
        Require all granted
         AddHandler application/x-httpd-php .php
    </Directory>
   
    # Logs (use Docker-friendly stdout/stderr)
    ErrorLog /proc/self/fd/2
    CustomLog /proc/self/fd/1 combined
</VirtualHost>